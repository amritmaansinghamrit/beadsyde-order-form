<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beadsyde - Order Your Infinity Essentials</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Daydream&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script defer src="https://cdn.vercel-insights.com/v1/script.debug.js"></script>
    <style>
        :root {
            --primary-blue: #2E5BBA;
            --neutral-beige: #F5F1E8;
            --pure-white: #FFFFFF;
            --text-dark: #1a1a1a;
            --text-medium: #4a4a4a;
            --text-light: #888;
            --border-light: #e1e1e1;
            --border-focus: #2E5BBA;
            --success-green: #10B981;
            --error-red: #EF4444;
            --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.05);
            --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 8px 25px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --border-radius-large: 12px;
            --transition: all 0.2s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--neutral-beige);
            color: var(--text-dark);
            line-height: 1.5;
            padding: 20px;
            font-weight: 400;
        }

        .container {
            max-width: 900px;
            margin: 0 auto 50px auto;
            background: var(--pure-white);
            border-radius: var(--border-radius-large);
            box-shadow: var(--shadow-soft);
            overflow: hidden;
        }

        /* Modern Header */
        .header {
            background: linear-gradient(135deg, var(--pure-white) 0%, #f8faff 100%);
            padding: 19px 40px 15px;
            text-align: center;
            border-bottom: 1px solid var(--border-light);
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue), #667eea, var(--primary-blue));
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .brand-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
        }

        .logo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(46, 91, 186, 0.2);
            border: 3px solid var(--pure-white);
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .brand-name {
            font-family: 'Daydream', cursive;
            font-size: 2.8em;
            font-weight: normal;
            color: var(--primary-blue);
            margin: 0;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 4px rgba(46, 91, 186, 0.1);
        }

        .brand-subheading {
            font-size: 1.1em;
            color: var(--text-medium);
            margin: 8px 0 0 0;
            font-weight: 400;
        }

        .infinity-text {
            /* Remove custom font to match parent section-title */
        }

        .tagline {
            font-size: 1.1em;
            color: var(--text-medium);
            font-weight: 400;
            margin-top: 8px;
            font-style: italic;
        }

        .header-decoration {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .decoration-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--primary-blue);
            opacity: 0.6;
        }

        .decoration-dot.center {
            opacity: 1;
            transform: scale(1.2);
        }

        /* Shopping Cart Icon */
        .cart-icon {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-blue);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            box-shadow: var(--shadow-hover);
            z-index: 1000;
            transition: var(--transition);
        }

        .cart-icon:hover {
            transform: scale(1.1);
            background: #1e4a9f;
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--error-red);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: 600;
            min-width: 24px;
        }

        /* Main Content */
        .form-section {
            padding: 40px;
        }

        .section-header {
            margin-bottom: 32px;
            text-align: center;
        }

        .section-title {
            font-size: 1.8em;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
            letter-spacing: -0.01em;
        }

        .section-subtitle {
            color: var(--text-light);
            font-size: 1em;
        }

        /* Product Section */
        .products-container {
            margin-bottom: 50px;
        }

        .product-group {
            margin-bottom: 40px;
        }

        .product-group-title {
            font-size: 1.4em;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 20px;
            text-align: center;
            padding: 16px;
            background: linear-gradient(135deg, #f8faff, #f0f4ff);
            border-radius: var(--border-radius-large);
            border: 1px solid #e1e8ff;
        }

        .product-variants {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
        }

        .product-card {
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-large);
            padding: 24px;
            background: var(--pure-white);
            transition: var(--transition);
            position: relative;
            text-align: center;
            box-shadow: var(--shadow-subtle);
        }

        .product-card:hover {
            border-color: var(--primary-blue);
            box-shadow: var(--shadow-soft);
            transform: translateY(-4px);
        }

        .product-image-container {
            width: 100%;
            height: 240px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 20px;
            background: var(--neutral-beige);
            position: relative;
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image {
            transform: scale(1.03);
        }

        .variant-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: var(--primary-blue);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            box-shadow: var(--shadow-subtle);
        }

        .product-info {
            margin-bottom: 24px;
        }

        .product-name {
            font-size: 1.3em;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .product-price {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 8px;
        }

        .product-description {
            font-size: 0.95em;
            color: var(--text-medium);
            margin-bottom: 20px;
        }

        /* Add to Cart Section */
        .cart-controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 8px;
        }

        .quantity-label {
            font-weight: 500;
            color: var(--text-medium);
            font-size: 0.95em;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius);
            background: white;
            box-shadow: var(--shadow-subtle);
        }

        .qty-btn {
            border: none;
            background: none;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--primary-blue);
            font-weight: 600;
            font-size: 1.1em;
            transition: var(--transition);
        }

        .qty-btn:hover:not(:disabled) {
            background: var(--neutral-beige);
        }

        .qty-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .qty-display {
            width: 50px;
            text-align: center;
            font-weight: 600;
            border: none;
            background: none;
            font-size: 15px;
            color: var(--text-dark);
        }

        /* Brand-aligned Add to Cart Button */
        .add-to-cart-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: var(--shadow-subtle);
        }

        .add-to-cart-btn:hover {
            background: #1e4a9f;
            transform: translateY(-1px);
            box-shadow: var(--shadow-soft);
        }

        .add-to-cart-btn.added {
            background: var(--success-green);
            animation: pulse 0.3s ease;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .remove-from-cart-btn {
            background: var(--error-red);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9em;
            margin-top: 8px;
        }

        .remove-from-cart-btn:hover {
            background: #dc2626;
        }

        /* Modern Input Styles */
        .customer-details {
            background: var(--neutral-beige);
            margin: 20px 0;
            padding: 40px;
            border-radius: var(--border-radius);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .form-row.full-width {
            grid-template-columns: 1fr;
        }

        .address-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        .address-landmark-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-dark);
            font-size: 0.95em;
        }

        .required {
            color: var(--error-red);
        }

        /* Modern Input Fields */
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid transparent;
            border-radius: var(--border-radius-large);
            font-size: 15px;
            font-family: inherit;
            transition: var(--transition);
            background: var(--pure-white);
            box-shadow: var(--shadow-subtle);
            font-weight: 400;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--border-focus);
            box-shadow: 0 0 0 4px rgba(46, 91, 186, 0.1);
            transform: translateY(-1px);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: var(--text-light);
            font-weight: 400;
        }

        .form-group.error input,
        .form-group.error textarea {
            border-color: var(--error-red);
            background-color: #fef7f7;
            box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);
        }

        .form-group.valid input,
        .form-group.valid textarea {
            border-color: var(--success-green);
            box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
        }

        .validation-icon {
            position: absolute;
            right: 16px;
            top: 42px;
            display: none;
            font-size: 16px;
        }

        .form-group.valid .validation-icon.success {
            display: block;
            color: var(--success-green);
        }

        .form-group.error .validation-icon.error {
            display: block;
            color: var(--error-red);
        }

        .error-message {
            color: var(--error-red);
            font-size: 0.85em;
            margin-top: 6px;
            display: none;
            font-weight: 500;
        }

        .form-group.error .error-message {
            display: block;
        }

        /* Order Summary */
        .order-summary {
            background: var(--pure-white);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius-large);
            padding: 28px;
            margin-top: 32px;
            box-shadow: var(--shadow-subtle);
        }

        .summary-header {
            margin-bottom: 24px;
            text-align: center;
        }

        .summary-title {
            font-size: 1.4em;
            font-weight: 600;
            color: var(--text-dark);
        }

        .empty-cart {
            text-align: center;
            padding: 30px 20px;
            color: var(--text-light);
        }

        .empty-cart i {
            font-size: 2.5em;
            margin-bottom: 16px;
            opacity: 0.3;
            color: var(--primary-blue);
        }

        .summary-items {
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 0;
            border-bottom: 1px solid #f5f5f5;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .item-details {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .item-image {
            width: 50px;
            height: 50px;
            border-radius: var(--border-radius);
            object-fit: cover;
            box-shadow: var(--shadow-subtle);
        }

        .item-info h4 {
            margin: 0;
            font-size: 1em;
            color: var(--text-dark);
            font-weight: 600;
        }

        .item-info p {
            margin: 0;
            font-size: 0.9em;
            color: var(--text-light);
        }

        .item-price {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.1em;
        }

        .summary-totals {
            border-top: 2px solid var(--primary-blue);
            padding-top: 20px;
            margin-top: 20px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .total-row.final {
            font-size: 1.4em;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 0;
        }

        /* Submit Button */
        .submit-section {
            text-align: center;
            margin-top: 32px;
        }

        .submit-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: var(--border-radius-large);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-family: inherit;
            min-width: 280px;
            box-shadow: var(--shadow-soft);
        }

        .submit-btn:hover:not(:disabled) {
            background: #1e4a9f;
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .submit-btn:disabled {
            background: #9CA3AF;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .payment-info-text {
            text-align: center;
            margin: 12px 0 0 0;
            font-size: 0.9em;
            color: var(--text-medium);
            background: #f0f4ff;
            padding: 12px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-blue);
        }

        /* Delivery Info */
        .delivery-info {
            background: linear-gradient(135deg, #f8faff, #f0f4ff);
            border: 1px solid #e1e8ff;
            border-radius: var(--border-radius-large);
            padding: 24px;
            margin-top: 24px;
            text-align: center;
        }

        .delivery-title {
            color: var(--primary-blue);
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        .delivery-details {
            display: flex;
            justify-content: center;
            gap: 32px;
            font-size: 0.95em;
            color: var(--text-medium);
        }

        .delivery-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .delivery-item i {
            color: var(--primary-blue);
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-content {
            background: white;
            padding: 32px;
            border-radius: var(--border-radius-large);
            text-align: center;
            box-shadow: var(--shadow-hover);
            max-width: 280px;
        }

        .spinner {
            width: 32px;
            height: 32px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }


        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .form-section,
            .customer-details {
                margin: 15px;
                padding: 24px 20px;
                border-radius: var(--border-radius);
            }

            .address-landmark-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .header {
                padding: 30px 20px 25px;
            }

            .brand-name {
                font-size: 2.2em;
            }

            .section-title {
                font-size: 1.5em;
            }

            .product-variants {
                grid-template-columns: 1fr;
            }

            .form-row,
            .address-grid {
                grid-template-columns: 1fr;
            }

            .delivery-details {
                flex-direction: column;
                gap: 12px;
            }

            .cart-icon {
                width: 50px;
                height: 50px;
                font-size: 1em;
            }

            .cart-badge {
                width: 20px;
                height: 20px;
                font-size: 0.7em;
            }
        }

        @media (max-width: 480px) {
            .product-card {
                padding: 20px;
            }

            .product-image-container {
                height: 200px;
            }

            .logo-container {
                flex-direction: column;
                gap: 8px;
            }

            .brand-name {
                font-size: 1.8em;
            }

            .form-group input,
            .form-group textarea {
                padding: 14px 16px;
            }

            .delivery-info {
                text-align: center;
            }

            .delivery-details {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .delivery-item {
                justify-content: center;
                text-align: center;
            }

            .address-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .address-landmark-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .form-row {
                flex-direction: column;
                gap: 15px;
            }
        }

        .footer {
            background: var(--primary-blue);
            color: white;
            text-align: center;
            padding: 10px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .footer-link {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
        }

        .footer-link:hover {
            color: var(--neutral-beige);
            text-decoration: underline;
        }

        .footer-content p {
            margin: 0;
        }

        .cart-quantity-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 5px;
        }

        .cart-qty-btn {
            width: 25px;
            height: 25px;
            border: 1px solid var(--border-light);
            background: var(--pure-white);
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-qty-btn:hover {
            background: var(--neutral-beige);
        }

        .cart-qty-display {
            min-width: 20px;
            text-align: center;
            font-weight: 500;
        }

        .remove-item-btn {
            background: none;
            border: none;
            color: var(--error-red);
            font-size: 12px;
            cursor: pointer;
            margin-top: 5px;
        }

        .remove-item-btn:hover {
            text-decoration: underline;
        }

        .item-price-section {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .shipping-prompt {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            border: 1px solid #10B981;
            border-radius: var(--border-radius);
            padding: 12px;
            margin: 10px 0;
            text-align: center;
            color: #065f46;
            font-weight: 500;
        }

        .state-dropdown-container {
            position: relative;
        }

        .state-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--pure-white);
            border: 1px solid var(--border-light);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .state-dropdown.show {
            display: block;
        }

        .state-option {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f5f5f5;
            transition: var(--transition);
        }

        .state-option:hover {
            background: var(--neutral-beige);
        }

        .state-option:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>
    <!-- Shopping Cart Icon -->
    <div class="cart-icon" id="cartIcon">
        <i class="fas fa-shopping-cart"></i>
        <div class="cart-badge" id="cartBadge">0</div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3>Processing Order...</h3>
            <p>Preparing for WhatsApp</p>
        </div>
    </div>


    <div class="container">
        <!-- Modern Header -->
        <div class="header">
            <div class="logo-container">
                <div class="logo">
                    <img src="images/beadsyde logo.jpg" alt="Beadsyde Logo">
                </div>
                <div class="brand-text">
                    <h1 class="brand-name">Beadsyde</h1>
                </div>
            </div>
        </div>

        <!-- Main Form -->
        <div class="form-section">
            <div class="section-header">
                <h2 class="section-title"><strong>Choose Your <span class="infinity-text">Infinity</span></strong></h2>
                <p class="section-subtitle">Premium Anti-Tarnish Stainless Steel • Waterproof with Love and Care</p>
            </div>

            <!-- Products -->
            <div class="products-container">
                <!-- Necklace -->
                <div class="product-group">
                    <h3 class="product-group-title">∞ Infinity Necklace</h3>
                    <div class="product-variants">
                        <!-- Silver Necklace -->
                        <div class="product-card" data-product="necklace" data-variant="silver" data-price="499">
                            <div class="product-image-container">
                                <img src="images/silver necklace.png" alt="Infinity Necklace Silver" class="product-image">
                            </div>
                            <div class="product-info">
                                <h4 class="product-name">Silver Infinity Necklace</h4>
                                <div class="product-price">₹499</div>
                            </div>
                            <div class="cart-controls">
                                <div class="quantity-selector">
                                    <span class="quantity-label">Quantity:</span>
                                    <div class="quantity-controls">
                                        <button class="qty-btn minus-btn" data-product="necklace-silver">−</button>
                                        <input type="number" class="qty-display" value="1" min="1" max="5" readonly data-product="necklace-silver">
                                        <button class="qty-btn plus-btn" data-product="necklace-silver">+</button>
                                    </div>
                                </div>
                                <button class="add-to-cart-btn" data-product="necklace-silver">
                                    <i class="fas fa-cart-plus"></i>
                                    Add to Cart
                                </button>
                                <button class="remove-from-cart-btn" data-product="necklace-silver" style="display: none;">
                                    <i class="fas fa-trash"></i>
                                    Remove from Cart
                                </button>
                            </div>
                        </div>

                        <!-- Gold Necklace -->
                        <div class="product-card" data-product="necklace" data-variant="gold" data-price="499">
                            <div class="product-image-container">
                                <img src="images/infinity necklace gold.jpg" alt="Infinity Necklace Gold" class="product-image">
                            </div>
                            <div class="product-info">
                                <h4 class="product-name">Golden Infinity Necklace</h4>
                                <div class="product-price">₹499</div>
                            </div>
                            <div class="cart-controls">
                                <div class="quantity-selector">
                                    <span class="quantity-label">Quantity:</span>
                                    <div class="quantity-controls">
                                        <button class="qty-btn minus-btn" data-product="necklace-gold">−</button>
                                        <input type="number" class="qty-display" value="1" min="1" max="5" readonly data-product="necklace-gold">
                                        <button class="qty-btn plus-btn" data-product="necklace-gold">+</button>
                                    </div>
                                </div>
                                <button class="add-to-cart-btn" data-product="necklace-gold">
                                    <i class="fas fa-cart-plus"></i>
                                    Add to Cart
                                </button>
                                <button class="remove-from-cart-btn" data-product="necklace-gold" style="display: none;">
                                    <i class="fas fa-trash"></i>
                                    Remove from Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bracelet -->
                <div class="product-group">
                    <h3 class="product-group-title">∞ Infinity Bracelet</h3>
                    <div class="product-variants">
                        <!-- Silver Bracelet -->
                        <div class="product-card" data-product="bracelet" data-variant="silver" data-price="349">
                            <div class="product-image-container">
                                <img src="images/infinity bracelet silver.jpg" alt="Infinity Bracelet Silver" class="product-image">
                            </div>
                            <div class="product-info">
                                <h4 class="product-name">Silver Infinity Bracelet</h4>
                                <div class="product-price">₹349</div>
                            </div>
                            <div class="cart-controls">
                                <div class="quantity-selector">
                                    <span class="quantity-label">Quantity:</span>
                                    <div class="quantity-controls">
                                        <button class="qty-btn minus-btn" data-product="bracelet-silver">−</button>
                                        <input type="number" class="qty-display" value="1" min="1" max="5" readonly data-product="bracelet-silver">
                                        <button class="qty-btn plus-btn" data-product="bracelet-silver">+</button>
                                    </div>
                                </div>
                                <button class="add-to-cart-btn" data-product="bracelet-silver">
                                    <i class="fas fa-cart-plus"></i>
                                    Add to Cart
                                </button>
                                <button class="remove-from-cart-btn" data-product="bracelet-silver" style="display: none;">
                                    <i class="fas fa-trash"></i>
                                    Remove from Cart
                                </button>
                            </div>
                        </div>

                        <!-- Gold Bracelet -->
                        <div class="product-card" data-product="bracelet" data-variant="gold" data-price="349">
                            <div class="product-image-container">
                                <img src="images/infinity bracelet gold.jpg" alt="Infinity Bracelet Gold" class="product-image">
                            </div>
                            <div class="product-info">
                                <h4 class="product-name">Golden Infinity Bracelet</h4>
                                <div class="product-price">₹349</div>
                            </div>
                            <div class="cart-controls">
                                <div class="quantity-selector">
                                    <span class="quantity-label">Quantity:</span>
                                    <div class="quantity-controls">
                                        <button class="qty-btn minus-btn" data-product="bracelet-gold">−</button>
                                        <input type="number" class="qty-display" value="1" min="1" max="5" readonly data-product="bracelet-gold">
                                        <button class="qty-btn plus-btn" data-product="bracelet-gold">+</button>
                                    </div>
                                </div>
                                <button class="add-to-cart-btn" data-product="bracelet-gold">
                                    <i class="fas fa-cart-plus"></i>
                                    Add to Cart
                                </button>
                                <button class="remove-from-cart-btn" data-product="bracelet-gold" style="display: none;">
                                    <i class="fas fa-trash"></i>
                                    Remove from Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Details -->
        <div class="customer-details">
            <div class="section-header">
                <h2 class="section-title">Contact Details</h2>
                <p class="section-subtitle">We need this to deliver your infinity at your doorstep!</p>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="customerName">Full Name <span class="required">*</span></label>
                    <input type="text" id="customerName" required placeholder="Enter your full name">
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                    <div class="error-message">Please enter your full name</div>
                </div>

                <div class="form-group">
                    <label for="customerPhone">Phone Number <span class="required">*</span></label>
                    <input type="tel" id="customerPhone" required placeholder="+91 9876543210">
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                    <div class="error-message">Please enter a valid phone number</div>
                </div>
            </div>

            <!-- Address and Landmark Row -->
            <div class="form-row address-landmark-row">
                <div class="form-group address-group">
                    <label for="addressLine1">Address <span class="required">*</span></label>
                    <input type="text" id="addressLine1" required placeholder="House no., building, street, area">
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                    <div class="error-message">Please provide your address</div>
                </div>

                <div class="form-group">
                    <label for="addressLandmark">Landmark (Optional)</label>
                    <input type="text" id="addressLandmark" placeholder="Near hospital, mall, etc.">
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                </div>
            </div>

            <!-- City, State, PIN Row -->
            <div class="address-grid">
                <div class="form-group">
                    <label for="addressCity">City <span class="required">*</span></label>
                    <input type="text" id="addressCity" required placeholder="Your city">
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                    <div class="error-message">Enter city</div>
                </div>

                <div class="form-group">
                    <label for="addressState">State <span class="required">*</span></label>
                    <div class="state-dropdown-container">
                        <input type="text" id="addressState" required placeholder="Type to search states..." autocomplete="off">
                        <div class="state-dropdown" id="stateDropdown"></div>
                    </div>
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                    <div class="error-message">Select a valid Indian state</div>
                </div>

                <div class="form-group">
                    <label for="addressPincode">PIN Code <span class="required">*</span></label>
                    <input type="text" id="addressPincode" required placeholder="123456" maxlength="6">
                    <i class="fas fa-check validation-icon success"></i>
                    <i class="fas fa-times validation-icon error"></i>
                    <div class="error-message">6-digit PIN</div>
                </div>
            </div>

            <div class="form-row full-width">
                <div class="form-group">
                    <label for="specialNotes">Special Message For Your Beloved</label>
                    <textarea id="specialNotes" rows="3" placeholder="Gift wrapping, delivery notes, etc."></textarea>
                </div>
            </div>
        </div>

        <!-- Order Summary -->
        <div class="form-section">
            <div class="order-summary" id="orderSummary">
                <div class="summary-header">
                    <h3 class="summary-title">Your Cart</h3>
                </div>
                <div class="empty-cart" id="emptyCart">
                    <i class="fas fa-shopping-cart"></i>
                    <p>Your cart is empty. Add some beautiful jewelry!</p>
                </div>
                <div class="summary-items" id="summaryItems" style="display: none;">
                    <!-- Dynamic content -->
                </div>
                <div class="summary-totals" id="summaryTotals" style="display: none;">
                    <div class="total-row">
                        <span>Shipping</span>
                        <span>₹100</span>
                    </div>
                    <div class="total-row final">
                        <span>Total Amount</span>
                        <span id="totalAmount">₹100</span>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="submit-section">
                <button class="submit-btn" id="submitOrder" disabled>
                    <i class="fab fa-whatsapp"></i> Complete Order via WhatsApp
                </button>
                <p class="payment-info-text">📱 <strong>How it works:</strong> When you click the button, WhatsApp will open with an auto-filled message containing your order details and payment link. Simply send that message and click the payment link to complete your purchase. Share payment screenshot to confirm!</p>
            </div>

            <!-- Delivery Info -->
            <div class="delivery-info">
                <h4 class="delivery-title">Delivery Information</h4>
                <div class="delivery-details">
                    <div class="delivery-item">
                        <i class="fas fa-clock"></i>
                        <span>4-6 working days (India Only)</span>
                    </div>
                    <div class="delivery-item">
                        <i class="fas fa-credit-card"></i>
                        <span>Online payment only</span>
                    </div>
                    <div class="delivery-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>Secure packaging</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <p><i class="fab fa-instagram"></i> Follow us: <a href="https://www.instagram.com/beadsyde/" target="_blank" class="footer-link">@beadsyde</a> | <i class="fab fa-whatsapp"></i> Join our <a href="https://chat.whatsapp.com/BTUOnwDzoLgBfCnrjNcL6j" target="_blank" class="footer-link">WhatsApp Community</a></p>
            </div>
        </div>
    </div>

    <script>
        // Shopping cart state
        let cart = {};
        let cartCount = 0;

        // Track which fields user has interacted with
        let touchedFields = new Set();

        // Indian States Array
        const indianStates = [
            'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh',
            'Goa', 'Gujarat', 'Haryana', 'Himachal Pradesh', 'Jharkhand',
            'Karnataka', 'Kerala', 'Madhya Pradesh', 'Maharashtra', 'Manipur',
            'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab',
            'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura',
            'Uttar Pradesh', 'Uttarakhand', 'West Bengal', 'Delhi'
        ];

        // Initialize state dropdown
        function initializeStateDropdown() {
            const stateInput = document.getElementById('addressState');
            const dropdown = document.getElementById('stateDropdown');

            stateInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                if (query.length === 0) {
                    dropdown.classList.remove('show');
                    return;
                }

                const filteredStates = indianStates.filter(state =>
                    state.toLowerCase().includes(query)
                );

                if (filteredStates.length > 0) {
                    dropdown.innerHTML = '';
                    filteredStates.forEach(state => {
                        const option = document.createElement('div');
                        option.className = 'state-option';
                        option.textContent = state;
                        option.addEventListener('click', function() {
                            stateInput.value = state;
                            dropdown.classList.remove('show');
                            // Trigger validation
                            validateState(stateInput);
                        });
                        dropdown.appendChild(option);
                    });
                    dropdown.classList.add('show');
                } else {
                    dropdown.classList.remove('show');
                }
            });

            // Hide dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!stateInput.contains(e.target) && !dropdown.contains(e.target)) {
                    dropdown.classList.remove('show');
                }
            });
        }

        // Initialize form on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeForm();
        });

        function initializeForm() {
            setupCartHandlers();
            setupValidation();
            setupSubmission();
            setupCartIconClick();
            initializeStateDropdown();
            updateCartDisplay();
        }

        function setupCartIconClick() {
            const cartIcon = document.getElementById('cartIcon');
            if (cartIcon) {
                cartIcon.addEventListener('click', function() {
                    // Scroll to cart section
                    const cartSection = document.getElementById('orderSummary') || document.querySelector('.summary-container');
                    if (cartSection) {
                        cartSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            }
        }

        function setupCartHandlers() {
            // Quantity buttons
            document.querySelectorAll('.qty-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productKey = this.dataset.product;
                    const qtyDisplay = document.querySelector(`.qty-display[data-product="${productKey}"]`);
                    let currentQty = parseInt(qtyDisplay.value);

                    if (this.classList.contains('plus-btn')) {
                        if (currentQty < 5) {
                            currentQty++;
                            qtyDisplay.value = currentQty;
                        }
                    } else if (this.classList.contains('minus-btn')) {
                        if (currentQty > 1) {
                            currentQty--;
                            qtyDisplay.value = currentQty;
                        }
                    }

                    updateQuantityButtons(productKey);
                });
            });

            // Add to cart buttons
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productKey = this.dataset.product;
                    const productCard = this.closest('.product-card');
                    const quantity = parseInt(document.querySelector(`.qty-display[data-product="${productKey}"]`).value);

                    addToCart(productCard, productKey, quantity);
                });
            });

            // Remove from cart buttons
            document.querySelectorAll('.remove-from-cart-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productKey = this.dataset.product;
                    removeFromCart(productKey);
                });
            });
        }

        function updateQuantityButtons(productKey) {
            const qtyDisplay = document.querySelector(`.qty-display[data-product="${productKey}"]`);
            const minusBtn = document.querySelector(`.minus-btn[data-product="${productKey}"]`);
            const plusBtn = document.querySelector(`.plus-btn[data-product="${productKey}"]`);

            const currentQty = parseInt(qtyDisplay.value);

            minusBtn.disabled = currentQty <= 1;
            plusBtn.disabled = currentQty >= 5;
        }

        function addToCart(productCard, productKey, quantity) {
            const productInfo = {
                name: productCard.querySelector('.product-name').textContent,
                price: parseInt(productCard.dataset.price),
                variant: productCard.dataset.variant,
                product: productCard.dataset.product,
                quantity: quantity,
                image: productCard.querySelector('.product-image').src
            };

            cart[productKey] = productInfo;
            cartCount = Object.keys(cart).length;

            // Update UI
            const addBtn = productCard.querySelector('.add-to-cart-btn');
            const removeBtn = productCard.querySelector('.remove-from-cart-btn');

            addBtn.classList.add('added');
            addBtn.innerHTML = '<i class="fas fa-check"></i> Added to Cart';

            setTimeout(() => {
                addBtn.style.display = 'none';
                removeBtn.style.display = 'block';
            }, 1000);

            updateCartDisplay();
            // Update form validation to refresh CTA button
            validateForm();
        }

        function updateCartQuantity(productKey, change) {
            if (cart[productKey]) {
                cart[productKey].quantity += change;

                if (cart[productKey].quantity <= 0) {
                    delete cart[productKey];
                    cartCount = Object.keys(cart).length;
                } else {
                    // Update the main quantity display as well
                    const qtyDisplay = document.querySelector(`.qty-display[data-product="${productKey}"]`);
                    if (qtyDisplay) {
                        qtyDisplay.value = cart[productKey].quantity;
                    }
                }

                updateCartDisplay();
                updateQuantityButtons(productKey);
                // Update form validation to refresh CTA button
                validateForm();
            }
        }

        function removeFromCart(productKey) {
            delete cart[productKey];
            cartCount = Object.keys(cart).length;

            // Update UI
            const productCard = document.querySelector(`[data-product="${productKey.split('-')[0]}"][data-variant="${productKey.split('-')[1]}"]`);
            const addBtn = productCard.querySelector('.add-to-cart-btn');
            const removeBtn = productCard.querySelector('.remove-from-cart-btn');

            addBtn.style.display = 'block';
            addBtn.classList.remove('added');
            addBtn.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
            removeBtn.style.display = 'none';

            // Reset quantity to 1
            const qtyDisplay = document.querySelector(`.qty-display[data-product="${productKey}"]`);
            qtyDisplay.value = 1;
            updateQuantityButtons(productKey);

            updateCartDisplay();
            // Update form validation to refresh CTA button
            validateForm();
        }

        function updateCartDisplay() {
            const cartBadge = document.getElementById('cartBadge');
            const emptyCart = document.getElementById('emptyCart');
            const summaryItems = document.getElementById('summaryItems');
            const summaryTotals = document.getElementById('summaryTotals');
            const totalAmountElement = document.getElementById('totalAmount');

            cartBadge.textContent = cartCount;

            // Remove any existing shipping prompts
            const existingPrompt = document.querySelector('.shipping-prompt');
            if (existingPrompt) {
                existingPrompt.remove();
            }

            if (cartCount === 0) {
                emptyCart.style.display = 'block';
                summaryItems.style.display = 'none';
                summaryTotals.style.display = 'none';
            } else {
                emptyCart.style.display = 'none';
                summaryItems.style.display = 'block';
                summaryTotals.style.display = 'block';

                // Build cart items
                summaryItems.innerHTML = '';
                let itemsTotal = 0;
                let shippingCost = 100;

                Object.keys(cart).forEach(productKey => {
                    const item = cart[productKey];
                    const itemTotal = item.price * item.quantity;
                    itemsTotal += itemTotal;

                    const summaryItem = document.createElement('div');
                    summaryItem.className = 'summary-item';
                    summaryItem.innerHTML = `
                        <div class="item-details">
                            <img src="${item.image}" alt="${item.name}" class="item-image">
                            <div class="item-info">
                                <h4>${item.name}</h4>
                                <div class="cart-quantity-controls">
                                    <button class="cart-qty-btn" onclick="updateCartQuantity('${productKey}', -1)">-</button>
                                    <span class="cart-qty-display">${item.quantity}</span>
                                    <button class="cart-qty-btn" onclick="updateCartQuantity('${productKey}', 1)">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="item-price-section">
                            <span class="item-price">₹${itemTotal}</span>
                            <button class="remove-item-btn" onclick="removeFromCart('${productKey}')">Remove</button>
                        </div>
                    `;
                    summaryItems.appendChild(summaryItem);
                });

                // Calculate shipping based on threshold
                if (itemsTotal >= 999) {
                    shippingCost = 0;
                }

                const total = itemsTotal + shippingCost;

                // Add shipping prompt if needed
                let shippingPrompt = '';
                if (itemsTotal < 999 && itemsTotal > 0) {
                    const needed = 999 - itemsTotal;
                    shippingPrompt = `<div class="shipping-prompt">Add ₹${needed} more for FREE shipping!</div>`;
                }

                // Update shipping display
                const shippingElement = document.querySelector('.total-row span:last-child');
                if (shippingElement) {
                    shippingElement.textContent = shippingCost === 0 ? 'FREE' : `₹${shippingCost}`;
                }

                // Add shipping prompt to summary
                if (shippingPrompt) {
                    summaryItems.insertAdjacentHTML('afterend', shippingPrompt);
                }

                totalAmountElement.textContent = `₹${total}`;
            }
        }

        function setupValidation() {
            const fields = {
                customerName: validateName,
                customerPhone: validatePhone,
                addressLine1: validateAddressLine1,
                addressCity: validateCity,
                addressState: validateState,
                addressPincode: validatePincode
            };

            Object.keys(fields).forEach(fieldId => {
                const field = document.getElementById(fieldId);

                // Mark field as touched when user interacts with it
                field.addEventListener('focus', function() {
                    touchedFields.add(fieldId);
                });

                // Only validate when user moves away from field (blur event)
                field.addEventListener('blur', function() {
                    touchedFields.add(fieldId);
                    fields[fieldId](this);
                    validateForm();
                });

                // Clear error state while typing
                field.addEventListener('input', function() {
                    if (this.value.trim() !== '') {
                        const formGroup = this.closest('.form-group');
                        formGroup.classList.remove('error');
                    }
                });
            });

            // Initialize quantity buttons
            document.querySelectorAll('.qty-display').forEach(input => {
                updateQuantityButtons(input.dataset.product);
            });
        }

        function validateName(field) {
            const value = field.value.trim();
            const formGroup = field.closest('.form-group');
            const namePattern = /^[a-zA-Z\s]{3,}$/;
            const wordCount = value.split(' ').filter(word => word.length > 0).length;

            if (value && namePattern.test(value) && wordCount >= 2) {
                setFieldValid(formGroup);
                return true;
            } else {
                setFieldError(formGroup);
                return false;
            }
        }

        function validatePhone(field) {
            const value = field.value.trim();
            const formGroup = field.closest('.form-group');
            const phonePattern = /^(\+91[-\s]?)?[6-9]\d{9}$/;

            if (value && phonePattern.test(value.replace(/\s/g, ''))) {
                setFieldValid(formGroup);
                return true;
            } else {
                setFieldError(formGroup);
                return false;
            }
        }

        function validateAddressLine1(field) {
            const value = field.value.trim();
            const formGroup = field.closest('.form-group');

            if (value.length >= 10) {
                setFieldValid(formGroup);
                return true;
            } else {
                setFieldError(formGroup);
                return false;
            }
        }

        function validateCity(field) {
            const value = field.value.trim();
            const formGroup = field.closest('.form-group');
            const cityPattern = /^[a-zA-Z\s]{2,}$/;

            if (value && cityPattern.test(value)) {
                setFieldValid(formGroup);
                return true;
            } else {
                setFieldError(formGroup);
                return false;
            }
        }

        function validateState(field) {
            const value = field.value.trim();
            const formGroup = field.closest('.form-group');

            if (value && indianStates.includes(value)) {
                setFieldValid(formGroup);
                return true;
            } else {
                setFieldError(formGroup);
                return false;
            }
        }

        function validatePincode(field) {
            const value = field.value.trim();
            const formGroup = field.closest('.form-group');
            const pincodePattern = /^\d{6}$/;

            if (value && pincodePattern.test(value)) {
                setFieldValid(formGroup);
                return true;
            } else {
                setFieldError(formGroup);
                return false;
            }
        }

        function setFieldValid(formGroup) {
            formGroup.classList.remove('error');
            formGroup.classList.add('valid');
        }

        function setFieldError(formGroup) {
            formGroup.classList.add('error');
            formGroup.classList.remove('valid');
        }

        function validateForm() {
            const requiredFields = [
                'customerName', 'customerPhone', 'addressLine1',
                'addressCity', 'addressState', 'addressPincode'
            ];

            const validations = {
                customerName: validateName,
                customerPhone: validatePhone,
                addressLine1: validateAddressLine1,
                addressCity: validateCity,
                addressState: validateState,
                addressPincode: validatePincode
            };

            let allValid = true;
            let allFieldsFilled = true;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                const fieldValue = field.value.trim();

                // Check if field is empty
                if (!fieldValue) {
                    allFieldsFilled = false;
                }

                // Only validate fields that user has interacted with
                if (touchedFields.has(fieldId)) {
                    if (!validations[fieldId](field)) {
                        allValid = false;
                    }
                } else if (fieldValue) {
                    // If field has value but hasn't been touched, still validate it
                    if (!validations[fieldId](field)) {
                        allValid = false;
                    }
                }
            });

            const hasCartItems = cartCount > 0;
            const submitBtn = document.getElementById('submitOrder');

            // Always enable button and show "Place Order"
            submitBtn.disabled = false;

            if (allValid && hasCartItems && allFieldsFilled) {
                submitBtn.innerHTML = '<i class="fab fa-whatsapp"></i> Place Order & Get Payment Link';
            } else {
                submitBtn.innerHTML = '<i class="fab fa-whatsapp"></i> Place Order';
            }
        }

        function collectOrderData() {
            const selectedProducts = [];

            Object.keys(cart).forEach(productKey => {
                const item = cart[productKey];
                selectedProducts.push({
                    name: `Infinity ${item.product.charAt(0).toUpperCase() + item.product.slice(1)}`,
                    price: item.price,
                    quantity: item.quantity,
                    variant: item.variant.charAt(0).toUpperCase() + item.variant.slice(1),
                    total: item.price * item.quantity
                });
            });

            const customerData = {
                name: document.getElementById('customerName').value.trim(),
                phone: document.getElementById('customerPhone').value.trim(),
                address: {
                    line1: document.getElementById('addressLine1').value.trim(),
                    city: document.getElementById('addressCity').value.trim(),
                    state: document.getElementById('addressState').value.trim(),
                    pincode: document.getElementById('addressPincode').value.trim(),
                    landmark: document.getElementById('addressLandmark').value.trim()
                },
                specialNotes: document.getElementById('specialNotes').value.trim()
            };

            const landmarkText = customerData.address.landmark ? `, Near ${customerData.address.landmark}` : '';
            const fullAddress = `${customerData.address.line1}, ${customerData.address.city}, ${customerData.address.state} - ${customerData.address.pincode}${landmarkText}`;

            const itemsTotal = selectedProducts.reduce((sum, product) => sum + product.total, 0);
            const shippingCost = itemsTotal >= 999 ? 0 : 100;
            const total = itemsTotal + shippingCost;

            return {
                products: selectedProducts,
                customer: {
                    ...customerData,
                    fullAddress: fullAddress
                },
                shipping: shippingCost,
                total: total,
                orderDate: new Date().toLocaleString('en-IN'),
                orderDate: new Date().toLocaleString('en-IN')
            };
        }

        function generateWhatsAppMessage(orderData) {
            // Generate UPI link first
            const upiLink = generateUPILink(orderData);

            let message = `🩵 NEW ORDER - BEADSYDE 🩵

🗓️ ${orderData.orderDate}

Name: ${orderData.customer.name}
Phone: ${orderData.customer.phone}
Address: ${orderData.customer.fullAddress}

`;
            orderData.products.forEach((product, index) => {
                message += `${index + 1}.⁠ ⁠${product.name} (${product.variant}) x${product.quantity} = Rs.${product.total}

`;
            });

            message += `Items: Rs.${orderData.total - orderData.shipping}
Shipping: Rs.${orderData.shipping}
FINAL TOTAL: Rs.${orderData.total} ✅

💬NOTES:`;
            if (orderData.customer.specialNotes) {
                message += ` ${orderData.customer.specialNotes}`;
            }

            message += `

🚚 Delivering Pan India in 4-6 working days

💳 👇 Pay here and share a screenshot to confirm your order 👇
${upiLink}
👆 Click the link above to pay 👆`;

            // For WhatsApp, we need to keep emojis as raw Unicode and only encode necessary characters
            // Replace spaces, newlines and special characters manually while preserving emojis
            return message
                .replace(/ /g, '%20')
                .replace(/\n/g, '%0A')
                .replace(/:/g, '%3A')
                .replace(/\|/g, '%7C')
                .replace(/\(/g, '%28')
                .replace(/\)/g, '%29')
                .replace(/-/g, '%2D');
        }

        async function logToGoogleSheets(orderData) {
            try {
                const response = await fetch('YOUR_GOOGLE_APPS_SCRIPT_URL', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(orderData)
                });

                return response.ok;
            } catch (error) {
                console.error('Error logging to Google Sheets:', error);
                return false;
            }
        }

        function setupSubmission() {
            document.getElementById('submitOrder').addEventListener('click', async function() {
                const hasCartItems = cartCount > 0;
                const requiredFields = [
                    'customerName', 'customerPhone', 'addressLine1',
                    'addressCity', 'addressState', 'addressPincode'
                ];

                // Check if all fields are filled
                const allFieldsFilled = requiredFields.every(fieldId => {
                    return document.getElementById(fieldId).value.trim() !== '';
                });

                // If not ready to submit, handle scrolling and prompts
                if (!hasCartItems && !allFieldsFilled) {
                    // Both missing - scroll to products first
                    const productsSection = document.querySelector('.products-container');
                    if (productsSection) {
                        productsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        showPrompt('🛍️ First, please select the jewelry you want to order. Then fill in your contact details below.');
                    }
                    return;
                } else if (!hasCartItems) {
                    // Only products missing
                    const productsSection = document.querySelector('.products-container');
                    if (productsSection) {
                        productsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        showPrompt('🛍️ Please select some jewelry to add to your cart first!');
                    }
                    return;
                } else if (!allFieldsFilled) {
                    // Only contact details missing
                    const contactSection = document.querySelector('.customer-details');
                    if (contactSection) {
                        contactSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        showPrompt('📝 Please fill in your contact details so we can deliver your jewelry!');
                    }
                    return;
                }

                // If we reach here, proceed with order submission

                const loadingOverlay = document.getElementById('loadingOverlay');
                loadingOverlay.style.display = 'flex';

                try {
                    const orderData = collectOrderData();

                    // Log to Google Sheets
                    await logToGoogleSheets(orderData);

                    // Generate WhatsApp message with UPI link included
                    const whatsappMessage = generateWhatsAppMessage(orderData);
                    const whatsappNumber = '918104563011';
                    const whatsappUrl = `https://api.whatsapp.com/send/?phone=${whatsappNumber}&text=${whatsappMessage}`;

                    // Small delay for better UX
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                        // Direct redirect to WhatsApp with UPI link in message
                        window.location.href = whatsappUrl;
                    }, 1500);

                } catch (error) {
                    console.error('Error submitting order:', error);
                    loadingOverlay.style.display = 'none';
                    alert('There was an error processing your order. Please try again or contact us directly.');
                }
            });
        }


        function generateUPILink(orderData) {
            const vpa = 'khemkakshama64-1@oksbi';
            const payeeName = 'Beadsyde';
            const merchantCode = 'BD001';
            const amount = orderData.total.toFixed(2); // Ensure amount has 2 decimal places
            const currency = 'INR';

            // Generate transaction note with essential details
            let transactionNote = `Beadsyde Order - ${orderData.customer.name} - Rs.${orderData.total}`;
            if (orderData.products.length === 1) {
                transactionNote += ` - ${orderData.products[0].name} (${orderData.products[0].variant})`;
            } else {
                transactionNote += ` - ${orderData.products.length} items`;
            }

            // Complete UPI deep link format with correct parameters
            const upiUrl = `upi://pay?pa=${encodeURIComponent(vpa)}&pn=${encodeURIComponent(payeeName)}&mc=${encodeURIComponent(merchantCode)}&am=${amount}&cu=${currency}&tn=${encodeURIComponent(transactionNote)}`;

            console.log('Generated UPI Link with all parameters:');
            console.log('- VPA (pa):', vpa);
            console.log('- Payee Name (pn):', payeeName);
            console.log('- Merchant Code (mc):', merchantCode);
            console.log('- Amount (am):', amount, '(Type:', typeof amount, ')');
            console.log('- Currency (cu):', currency);
            console.log('- Transaction Note (tn):', transactionNote);
            console.log('- Complete UPI URL:', upiUrl);
            console.log('- Amount in URL:', upiUrl.includes(`am=${amount}`) ? 'FOUND' : 'MISSING');
            console.log('- URL Length:', upiUrl.length);

            // Test amount extraction from URL
            const urlParams = new URLSearchParams(upiUrl.split('?')[1]);
            console.log('- Amount extracted from URL:', urlParams.get('am'));

            return upiUrl;
        }

        function showPrompt(message) {
            // Create prompt element if it doesn't exist
            let promptElement = document.getElementById('userPrompt');
            if (!promptElement) {
                promptElement = document.createElement('div');
                promptElement.id = 'userPrompt';
                promptElement.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: #2E5BBA;
                    color: white;
                    padding: 15px 25px;
                    border-radius: 8px;
                    box-shadow: 0 4px 15px rgba(46, 91, 186, 0.3);
                    z-index: 10000;
                    font-weight: 500;
                    font-size: 14px;
                    max-width: 90%;
                    text-align: center;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                `;
                document.body.appendChild(promptElement);
            }

            promptElement.textContent = message;
            promptElement.style.opacity = '1';

            // Auto-hide after 4 seconds
            setTimeout(() => {
                promptElement.style.opacity = '0';
                setTimeout(() => {
                    if (promptElement.parentNode) {
                        promptElement.parentNode.removeChild(promptElement);
                    }
                }, 300);
            }, 4000);
        }

        function resetForm() {
            // Clear cart
            cart = {};
            cartCount = 0;

            // Reset all product UIs
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.style.display = 'block';
                btn.classList.remove('added');
                btn.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart';
            });

            document.querySelectorAll('.remove-from-cart-btn').forEach(btn => {
                btn.style.display = 'none';
            });

            // Reset quantities
            document.querySelectorAll('.qty-display').forEach(input => {
                input.value = 1;
                updateQuantityButtons(input.dataset.product);
            });

            // Reset form fields
            const fieldIds = ['customerName', 'customerPhone', 'addressLine1', 'addressCity', 'addressState', 'addressPincode', 'addressLandmark', 'specialNotes'];
            fieldIds.forEach(fieldId => {
                document.getElementById(fieldId).value = '';
            });

            // Reset form groups
            document.querySelectorAll('.form-group').forEach(group => {
                group.classList.remove('error', 'valid');
            });

            // Clear touched fields
            touchedFields.clear();

            updateCartDisplay();
            validateForm();
        }
    </script>
</body>
</html>